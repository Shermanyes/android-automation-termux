# table_schemas.cfg

# 创建识别状态表
create[recognition_states] state_id:TEXT PRIMARY KEY; app_id:TEXT NOT NULL; name:TEXT NOT NULL; type:TEXT NOT NULL; config:TEXT NOT NULL

# 创建状态转换表
create[actions] action_id:INTEGER PRIMARY KEY AUTOINCREMENT; from_state:TEXT NOT NULL; to_state:TEXT NOT NULL; name:TEXT NOT NULL; function_name:TEXT NOT NULL; params:TEXT; FOREIGN KEY (from_state) REFERENCES recognition_states(state_id); FOREIGN KEY (to_state) REFERENCES recognition_states(state_id)

# 创建坐标表
create[coordinates] id:INTEGER PRIMARY KEY; element_id:TEXT NOT NULL; screen:TEXT NOT NULL; x:INTEGER NOT NULL; y:INTEGER NOT NULL; description:TEXT

# 创建任务配置表
create[sweep_chapters] id:INTEGER PRIMARY KEY; chapter_id:TEXT NOT NULL; name:TEXT NOT NULL; priority:INTEGER NOT NULL

# 创建任务阶段表
create[sweep_stages] id:INTEGER PRIMARY KEY; chapter_id:TEXT NOT NULL; stage_number:INTEGER NOT NULL; priority:INTEGER NOT NULL; FOREIGN KEY (chapter_id) REFERENCES sweep_chapters(chapter_id)

# 创建任务状态表
create[task_status] id:INTEGER PRIMARY KEY; task_id:TEXT NOT NULL; account_id:TEXT NOT NULL; completed:INTEGER DEFAULT 0; completion_time:INTEGER; last_run_time:INTEGER; retry_count:INTEGER DEFAULT 0; last_error:TEXT; execution_data:TEXT